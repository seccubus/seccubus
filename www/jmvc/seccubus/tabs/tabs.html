<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
	<head>
		<title>seccubus.tabs</title>
		<style>
			.tab {
				border: solid 1px black;
			}
		</style>
	</head>
	<body>
		<h1>Seccubus.Tabs</h1>
		<p>A tabs widget that creates 'activate' events.</p>
		<h2>Demo</h2>
		<p>Click the different tabs.</p>
	    <ul id='navTab'>
	    	<li><a href='#workspaces'>Workspaces</a></li>
			<li><a href='#scans'>Scans</a></li>
			<li><a href='#findings'>Findings</a></li>
			<li><a href='#issues'>Issues</a></li>
		</ul>

		<div id='workspaces' class='tab'>The workspaces will go here</div>
		<div id='scans' class='tab'>The scans will go here</div>
		<div id='findings' class='tab'>The findings will go here</div>
		<div id='issues' class='tab'>The issues will go here</div>

		<h3>Disable Tab</h3>
		<form id="disable">		
			<input type="checkbox" name="disable" value="0" /> Workspaces (tab index = 0)<br />
			<input type="checkbox" name="disable" value="1" /> Scans (tab index = 1)<br />
			<input type="checkbox" name="disable" value="2" /> Findings (tab index = 2)<br />
			<input type="checkbox" name="disable" value="3" /> Issues (tab index = 3)<br />
		</form>
		
		<h3>Hide Tab</h3>
		<form id="hide">		
			<input type="checkbox" name="disable" value="0" /> Workspaces (tab index = 0)<br />
			<input type="checkbox" name="disable" value="1" /> Scans (tab index = 1)<br />
			<input type="checkbox" name="disable" value="2" /> Findings (tab index = 2)<br />
			<input type="checkbox" name="disable" value="3" /> Issues (tab index = 3)<br />
		</form>
		
		<script type='text/javascript' src='../../steal/steal.js?seccubus/tabs'></script>
		
		<script type='text/javascript' >
				
			$('#navTab').seccubus_tabs();

			$('#disable input').attr('checked', false);
			
			$('#disable input').click( function( ev ) {
				if (this.checked) {
					if ( $('#navTab').children(':eq('+this.value+')').hasClass('active') ) {
						console.warn("This tab is currently active and cannot be disabled.");
						this.blur();
						ev.preventDefault();
					}
					else $('#navTab').seccubus_tabs("disable", this.value);
				}
				else 				
					$('#navTab').seccubus_tabs("enable", this.value);
			})
			
			$('#hide input').attr('checked', false);

			$('#hide input').click ( function ( ev ) {
				if (this.checked) {
					if ( $('#navTab').children(':eq('+this.value+')').hasClass('active') ) {
						console.warn("This tab is currently active and cannot be hidden.");
						this.blur();
						ev.preventDefault();
					}
					else $('#navTab').seccubus_tabs("hide", this.value);
				}
				else
					$('#navTab').seccubus_tabs("show", this.value);
			})
			
		</script>
		
	</body>
</html>
